---
title: "Test Widgets in Quarto"
format:
  html:
    code-fold: true
jupyter: python3
---

## Simple Widget

```{python}
import ipywidgets as widgets

widgets.IntSlider()
```

## Two Widgets with jslink Synchronization

```{python}
caption = widgets.Label(value='The values of slider1 and slider2 are synchronized with jslink')
sliders1, slider2 = widgets.IntSlider(description='Slider 1'),\
                    widgets.IntSlider(description='Slider 2')
l = widgets.jslink((sliders1, 'value'), (slider2, 'value'))

display(caption, sliders1, slider2)
```

## Lonboard (interactive mapping widget)

```{python}
import geopandas as gpd
from lonboard import Map, PolygonLayer

gdf = gpd.read_parquet("test_ecosystem_polygons.parquet")

layer1 = PolygonLayer.from_geopandas(
    gdf,
    get_fill_color=[255, 0, 0],
)
m1 = Map(layer1)
m1
```

## Lonboard Linked Maps with Layer Toggle

```{python}
toggle = widgets.ToggleButton(
    value=True,
    button_style='info',
    description='Toggle Layer'
)
layer2 = PolygonLayer.from_geopandas(
    gdf,
    get_fill_color=[255, 0, 0],
)
m2 = Map(layer2)
m3 = Map([])

viewstate_link = widgets.jslink((m2, 'view_state'), (m3, 'view_state'))
layer_link = widgets.jsdlink((toggle, 'value'), (m2.layers[0], 'visible'))

widgets.VBox([
  m2,
  toggle,
  m3
])

```
